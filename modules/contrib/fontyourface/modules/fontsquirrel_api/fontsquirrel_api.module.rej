--- modules/fontsquirrel_api/fontsquirrel_api.module
+++ modules/fontsquirrel_api/fontsquirrel_api.module
@@ -41,7 +41,8 @@ function fontsquirrel_api_entity_presave(EntityInterface $entity) {
       $metadata = $entity->getMetadata();
       $directory_location = _fontsquirrel_api_get_font_directory_location($entity);
       \Drupal::service('file_system')->prepareDirectory($directory_location, FileSystemInterface::CREATE_DIRECTORY);
-      $zip_location = file_build_uri('fontyourface/fontsquirrel/' . $metadata['path'] . '-fontfacekit.zip');
+      $zip_location = \Drupal::config('system.file')->get('default_scheme') . '://' . 'fontyourface/fontsquirrel/' . $metadata['path'] . '-fontfacekit.zip';
+
       // Throw an exception; make it hard if this fails.
       $uri = 'https://www.fontsquirrel.com/fontfacekit/' . $metadata['path'];
       $response = \Drupal::httpClient()->get($uri, ['headers' => ['Accept' => 'text/plain']]);
@@ -86,7 +87,7 @@ function fontsquirrel_api_page_attachments(&$page) {
           '#tag' => 'link',
           '#attributes' => [
             'rel' => 'stylesheet',
-            'href' => file_create_url($directory_location . '/fontyourface-stylesheet.css'),
+            'href' => \Drupal::service('file_url_generator')->generateAbsoluteString($directory_location . '/fontyourface-stylesheet.css'),
             'media' => 'all',
           ],
         ], 'fontsquirrel-api-' . $font->id(),
@@ -261,7 +262,7 @@ function fontsquirrel_api_get_font_family_info($font_import) {
  *   File stream location to font package.
  */
 function _fontsquirrel_api_get_font_directory_location(Font $font) {
-  return file_build_uri('fontyourface/fontsquirrel/' . _fontsquirrel_api_get_sanitized_css_family($font->css_family->value) . '-fontfacekit');
+  return \Drupal::config('system.file')->get('default_scheme') . '://' . 'fontyourface/fontsquirrel/' . _fontsquirrel_api_get_sanitized_css_family($font->css_family->value) . '-fontfacekit';
 }
 
 /**
